questions = [
    {
        "question": "Which company developed JavaScript?",
        "options": ["Netscape", "Microsoft", "Sun Microsystems", "Oracle"],
        "answer": "Netscape"
    },
    {
        "question": "Inside which HTML element do we put the JavaScript?",
        "options": ["<javascript>", "<js>", "<scripting>", "<script>"],
        "answer": "<script>"
    },
    {
        "question": "Which symbol is used for comments in JavaScript?",
        "options": ["//", "#", "<!-- -->", "/* */"],
        "answer": "//"
    },
    {
        "question": "How do you declare a variable in JavaScript?",
        "options": ["var", "let", "const", "All of the above"],
        "answer": "All of the above"
    },
    {
        "question": "Which of the following is NOT a JavaScript data type?",
        "options": ["Number", "Boolean", "Float", "Undefined"],
        "answer": "Float"
    },
    {
        "question": "What is the output of typeof null?",
        "options": ["null", "undefined", "object", "number"],
        "answer": "object"
    },
    {
        "question": "Which operator is used to assign a value to a variable?",
        "options": ["-", "=", "==", "==="],
        "answer": "="
    },
    {
        "question": "What will `2 + '2'` evaluate to?",
        "options": ["4", "'22'", "NaN", "Error"],
        "answer": "'22'"
    },
    {
        "question": "Which method converts JSON to a JavaScript object?",
        "options": ["JSON.parse()", "JSON.stringify()", "JSON.object()", "JSON.toObject()"],
        "answer": "JSON.parse()"
    },
    {
        "question": "Which keyword is used to define a constant in JavaScript?",
        "options": ["let", "var", "const", "constant"],
        "answer": "const"
    },
    {
        "question": "Which function is used to print content to the console?",
        "options": ["print()", "log()", "console.log()", "document.write()"],
        "answer": "console.log()"
    },
    {
        "question": "Which array method adds elements to the end?",
        "options": ["push()", "pop()", "shift()", "unshift()"],
        "answer": "push()"
    },
    {
        "question": "Which method removes the last element of an array?",
        "options": ["shift()", "unshift()", "pop()", "splice()"],
        "answer": "pop()"
    },
    {
        "question": "How do you write an arrow function?",
        "options": ["function => {}", "() => {}", "() => []", "() -> {}"],
        "answer": "() => {}"
    },
    {
        "question": "What does `===` mean in JavaScript?",
        "options": ["Equal value", "Equal value and type", "Assignment", "Not equal"],
        "answer": "Equal value and type"
    },
    {
        "question": "Which method returns the number of elements in an array?",
        "options": ["size()", "count()", "length", "elements()"],
        "answer": "length"
    },
    {
        "question": "Which object is the root of the DOM?",
        "options": ["window", "document", "element", "navigator"],
        "answer": "document"
    },
    {
        "question": "How do you create a new Promise?",
        "options": ["new Promise()", "Promise()", "Promise.create()", "create.Promise()"],
        "answer": "new Promise()"
    },
    {
        "question": "Which statement is used to handle errors in JavaScript?",
        "options": ["throw-catch", "try-catch", "error-catch", "catch-throw"],
        "answer": "try-catch"
    },
    {
        "question": "Which event is triggered when a user clicks on an HTML element?",
        "options": ["onhover", "onmouseover", "onclick", "onchange"],
        "answer": "onclick"
    },
    {
        "question": "Which method converts a JavaScript object to JSON?",
        "options": ["JSON.parse()", "JSON.stringify()", "JSON.object()", "toJSON()"],
        "answer": "JSON.stringify()"
    },
    {
        "question": "What is the default value of an uninitialized variable?",
        "options": ["null", "undefined", "0", "false"],
        "answer": "undefined"
    },
    {
        "question": "Which loop executes at least once even if the condition is false?",
        "options": ["for", "while", "do...while", "forEach"],
        "answer": "do...while"
    },
    {
        "question": "Which operator is used to spread elements of an array?",
        "options": ["...", "->", "::", "spread"],
        "answer": "..."
    },
    {
        "question": "What will `[1,2,3].map(x => x*2)` return?",
        "options": ["[2,3,4]", "[2,4,6]", "[1,4,9]", "[1,2,3]"],
        "answer": "[2,4,6]"
    },
    {
        "question": "Which function is used to delay execution?",
        "options": ["setTimeout()", "setInterval()", "sleep()", "wait()"],
        "answer": "setTimeout()"
    },
    {
        "question": "Which keyword is used to define a class?",
        "options": ["object", "class", "function", "prototype"],
        "answer": "class"
    },
    {
        "question": "Which keyword is used to inherit from another class?",
        "options": ["this", "extends", "super", "inherits"],
        "answer": "extends"
    },
    {
        "question": "Which method is used to fetch data from an API?",
        "options": ["fetch()", "get()", "request()", "http.get()"],
        "answer": "fetch()"
    },
    {
        "question": "Which object represents the browser window?",
        "options": ["document", "navigator", "window", "screen"],
        "answer": "window"
    },
    {
        "question": "Which method stops an interval timer?",
        "options": ["clearTimeout()", "clearInterval()", "stopInterval()", "cancelInterval()"],
        "answer": "clearInterval()"
    },
    {
        "question": "What does `this` refer to in a method of an object?",
        "options": ["Global object", "Current object", "Window", "Function"],
        "answer": "Current object"
    },
    {
        "question": "Which operator is used for exponentiation in JS?",
        "options": ["^", "**", "exp()", "pow()"],
        "answer": "**"
    },
    {
        "question": "Which function is used to combine arrays?",
        "options": ["concat()", "merge()", "join()", "combine()"],
        "answer": "concat()"
    },
    {
        "question": "Which array method executes a function on each element?",
        "options": ["map()", "forEach()", "filter()", "reduce()"],
        "answer": "forEach()"
    },
    {
        "question": "Which array method creates a new array with filtered elements?",
        "options": ["map()", "forEach()", "filter()", "slice()"],
        "answer": "filter()"
    },
    {
        "question": "Which array method reduces an array to a single value?",
        "options": ["reduce()", "map()", "filter()", "forEach()"],
        "answer": "reduce()"
    },
    {
        "question": "What will `Boolean('')` return?",
        "options": ["true", "false", "undefined", "null"],
        "answer": "false"
    },
    {
        "question": "Which of the following is a JavaScript framework?",
        "options": ["React", "Django", "Laravel", "Spring"],
        "answer": "React"
    },
    {
        "question": "Which method returns keys of an object?",
        "options": ["Object.keys()", "Object.values()", "Object.entries()", "Object.list()"],
        "answer": "Object.keys()"
    }
]

const form = document.getElementById('quizForm');


//O(N)
// function Random(){
    
//     const data = new Set();
//     while(data.size!=5){
//         const ind = Math.floor(Math.random()*40);
//         data.add(questions[ind]);
//     }
//     return Array.from(data);
// }

//O(NlogN)
// questions.sort(()=>Math.random()-0.5);
// const ques = questions.slice(0, 5);



//Most Optimized
const ques = [];
let length = questions.length;

for(let i=0; i<5; i++){
    const ind = Math.floor(Math.random()*length);
    ques.push(questions[ind]);

    //Pushes the recently chosen question to last so that the len shrinks and same questions are not selected again
    [questions[ind],questions[length-1]] = [questions[length-1], questions[ind]];
    length--;
}

//Form the div class
ques.forEach((obj, index)=>{
    const divEle = document.createElement('div');
    divEle.className = 'question';

    const para = document.createElement('p');
    para.textContent = `${index+1}. ${obj['question']}`;

    divEle.appendChild(para);
    //Create 4 options
    obj['options'].forEach((val)=>{
        const label = document.createElement('label');
        const input = document.createElement('input');

        input.type = 'radio';
        input.name = `${index+1}`;
        input.value = val;

        label.append(input);
        label.appendChild(document.createTextNode(val));

        divEle.appendChild(label);
        divEle.appendChild(document.createElement('br'));

    });
    form.appendChild(divEle);

})



const button = document.createElement('button');
button.type = 'submit';
button.className = 'subButton';
button.innerText = "Submit";
form.appendChild(button);


const orgAns = {
    1: ques[0].answer,
    2: ques[1].answer,
    3: ques[2].answer,
    4: ques[3].answer,
    5: ques[4].answer
};

const out = document.createElement('div');
form.appendChild(out);

form.addEventListener('submit', (event)=>{
    event.preventDefault();

    //Collect all data from form
    const data= new FormData(form);

    let result = 0;
    for(let [key, val] of data.entries()){
        if(val === orgAns[key]){
            result++;
        }
    }

    
    out.innerText = `${result} out of 5 is correct`;
    form.reset();
});
